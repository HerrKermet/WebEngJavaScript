<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>Zahlenratespiel</title>
  <link rel="stylesheet" type="text/css" href="index.css">
</head>
<body>
  <div>
    <p>Inbox</p>
    <ul>

    </ul>
  </div>
  <div id="rnglink">
    <a href="rng.html">RNG Game</a>
  </div>
  <script>
    //function for highlighting

    function highlightUnread(){

      //get all list elements in an array
      var listItems = document.querySelectorAll("li");

      //iterate over list entries and highlight not seen messages
      listItems.forEach(function(listItem){
        if(listItem.dataset.flag != "seen"){
          listItem.classList.add("highlight");
        }
      })
    }


    //array of objects which has subject and a read flag
    var messages = [
      {
        "subject": "first message",
        "flag": ""
      },{
        "subject": "second message",
        "flag": ""
      },{
        "subject": "third message",
        "flag": "seen"
      },{
        "subject": "spam message",
        "flag": ""
      },{
        "subject": "another message",
        "flag": "seen"
      }
    ];

    //get the ul list of the inbox div
    var list = document.querySelector("div ul");

    //iterate over the messages array with an anonymous function which creates list entries for each thing
    messages.forEach(function(message){
      let listItem = document.createElement("li");
      listItem.textContent = message.subject;
      listItem.dataset.flag = message.flag;
      list.appendChild(listItem);
    })

    highlightUnread();

  </script>
</body>
</html>
